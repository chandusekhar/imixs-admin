<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/layout/template.xhtml">

	<ui:define name="content">


		<style>
#modulename_suggestlist {
	width: 400px;
	height: 50px;
	margin-top: -5px;
	padding: 0;
	position: absolute;;
	z-index: 99;
	cursor: pointer;
}

.modulename-input {
	width: 400px;
}

.ui-combobox {
	position: relative;
	display: inline-block;
}

#modulename_btn {
	position: absolute;
	top: 0;
	bottom: 0;
	margin-left: -1px;
	padding: 0;
	/* adjust styles for module_suggestlistIE 6/7 */
	*height: 1.7em;
	*top: 0.1em;
}
</style>

		<script>
			$(function() {

				$("#modulename_btn").button({
					icons : {
						primary : "ui-icon-triangle-1-s"
					},
					text : false
				}).removeClass("ui-corner-all").addClass(
						"ui-corner-right ui-button-icon");

				// set effect from select menu value
				$("#modulename_btn").click(function() {
					$("#modulename_suggestlist").toggle();
					$("#modulename_btn").blur();
					return false;
				});

				// hide module selection....
				$('html').click(function() {
					$("#modulename_suggestlist").hide();
				});

				$('#modulename_suggestlist').click(function(event) {
					event.stopPropagation();
				});

				$("#modulename_suggestlist").menu();

				$("#modulename_suggestlist").menu().click(
						function(event) {

							//alert($(event.target).text());
							$('#home_form\\:modulename_input').val(
									$(event.target).text());
							$("#modulename_suggestlist").hide();
							return;
						});

				$("#modulename_suggestlist").hide();

			});
		</script>


		<f:view>




			<h:form id="home_form">



				<h1>Home</h1>


				<h2>
					<h:outputText value="Setup Imixs Entity Service" />
				</h2>


				<ui:include src="error.xhtml" />


				<!-- Service Connected -->
				<h:panelGroup rendered="#{entityController.serviceLoaded}">
					<div class="ui-widget">
						<div class="ui-state-highlight ui-corner-all"
							style="margin: 20px 0; padding: 5px 10px 0;">
							<p>
								<span class="ui-icon ui-icon-check"
									style="float: left; margin-right: .3em;"></span> <strong>EntityService
									successful connected</strong> <br /> #{entityController.globalJNDIName}

								
							</p>
						</div>
					</div>
				</h:panelGroup>



				<h3>Module Name:</h3>

				<dl>
					<dd>
						<div class="ui-widget">
							<span class="ui-combobox"> <h:inputText
									id="modulename_input"
									class="ui-state-default ui-widget ui-widget-content ui-corner-left modulename-input"
									value="#{entityController.module}"></h:inputText><button id="modulename_btn">module</button>
							</span>
						</div>



						<ul id="modulename_suggestlist">
							<ui:repeat var="jndiname" value="#{entityController.moduleList}">
								<li><a>#{jndiname}</a></li>
							</ui:repeat>
						</ul>
					</dd>
				</dl>
				<div style="clear: both;" />

				<h:commandButton action="home" value="refresh" />

			</h:form>
		</f:view>
	</ui:define>



</ui:composition>

